<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<html>

<head>
    <title></title>
    <link rel = "stylesheet" href = "styles.css">
    <script src = "WordBars.js"></script>
</head>

<body>
    <div class = "topnav">
        
        <input type = "text" id = "formValueId" name = "valueId" placeholder = "Search...">
        <button type="submit" id = "searchButton" onclick = "mySearchFunction()">Submit</button>
        
    </div>

    <h2>WordBar</h2>
    <div id="contentBox"></div>
    <div id="histogramBox"></div>
    </div>
</body>
<script>
    //Allow text box to be pressed with ENTER button
    document.getElementById("formValueId")
    .addEventListener("keyup", function(event) {
    event.preventDefault();
    if (event.keyCode === 13) {
        document.getElementById("searchButton").click();
    }
});
</script>

<script>
    function mySearchFunction(){ 
        //Clears current innerHTML in "contentBox/histogram" for new search query
        document.getElementById("contentBox").innerHTML = "";
        document.getElementById("histogramBox").innerHTML = "";
        
        //Takes userQuery and stores into variable
        userQuery = document.getElementById('formValueId').value;

    //     <!-- Custom Search JSON API  -->
    // <!-- Note to self, api key, cx for specific search engine, and query q for results -->
    // <!-- Each call can only return 10 results, so additional calls require it to start at a different index ie. 11 to get results 11-20 -->
    // <!-- Theses are JSONP, a method for sending JSON data without worrying about cross-domain issues -->
    var j = 1;
    //iterater = 2, capped at 2 for testing purposes, change to 10 for final submission
    for(i = 0; i < 2; i++){
        var s = document.createElement("script");
        s.src = "https://www.googleapis.com/customsearch/v1?key=AIzaSyBwVNMl6vi4jJ0qKEQAJWeXImSUGqlyqsU&cx=c4bb168513ae765b0&q=" + userQuery + "&callback=hndlr&start=" + j + "&num=10";
        document.body.appendChild(s);
        j += 10;
    }
    }
</script>

</html>